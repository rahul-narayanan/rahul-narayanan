const originalWrite = res.write;
    const originalEnd = res.end;

    const chunks: any[] = [];

    res.write = function (chunk: any) {
      chunks.push(chunk);
      originalWrite.apply(res, arguments);
    };

    res.end = function (chunk: any) {
      if (chunk) {
        chunks.push(chunk);
      }

      const body = Buffer.concat(chunks).toString('utf8');
      req.responseData = JSON.parse(body); // Assuming the response is JSON data

      originalEnd.apply(res, arguments);
    };

    next();
